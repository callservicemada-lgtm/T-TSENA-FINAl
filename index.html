<!DOCTYPE html>
<html lang="mg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>T-TSENA PRO | Official</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="data.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Righteous&family=Poppins:wght@400;700;900&display=swap');

        :root { 
            --orange-neon: #ff6600; 
            --blue-electric: #00d4ff; 
            --dark-bg: #020b1a; 
            --red-promo: #ff3333;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: var(--dark-bg); color: #fff; 
            font-family: 'Poppins', sans-serif; overflow-x: hidden;
            background: linear-gradient(-45deg, #020b1a, #0044ff, #ff6600, #020b1a);
            background-size: 400% 400%;
            animation: gradientBG 12s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- HEADER --- */
        .header-top { text-align: center; padding: 40px 10px 20px; }
        .logo-container { display: inline-flex; align-items: center; gap: 15px; }
        
        .logo-tsena {
            font-family: 'Righteous', cursive; font-size: 3.5rem; font-weight: 900;
            background: linear-gradient(to bottom, #fff 20%, var(--orange-neon) 50%, var(--blue-electric));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px rgba(255, 102, 0, 0.6));
        }

        .basket-icon {
            font-size: 2.5rem; color: var(--blue-electric);
            animation: bounceBasket 2s infinite ease-in-out;
            filter: drop-shadow(0 0 10px var(--blue-electric));
        }

        @keyframes bounceBasket {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(10deg); }
        }

        /* --- NAVIGATION --- */
        .nav-sticky {
            position: sticky; top: 0; z-index: 1000;
            background: rgba(2, 11, 26, 0.95); backdrop-filter: blur(15px);
            padding: 15px 0; border-bottom: 2px solid var(--orange-neon);
        }

        .search-box { padding: 0 15px; margin-bottom: 15px; position: relative; }
        .search-bar {
            width: 100%; height: 50px; border-radius: 25px; border: 2px solid var(--blue-electric);
            background: rgba(255,255,255,0.1); color: #fff; padding: 0 45px; font-size: 1rem; outline: none;
        }
        .search-box i { position: absolute; left: 30px; top: 16px; color: var(--blue-electric); }

        .cat-scroll {
            display: flex; overflow-x: auto; gap: 10px; padding: 0 15px 5px; scrollbar-width: none;
        }
        .cat-scroll::-webkit-scrollbar { display: none; }
        .cat-pill {
            padding: 10px 22px; background: rgba(0, 212, 255, 0.15); border-radius: 12px;
            border: 1px solid var(--blue-electric); white-space: nowrap; font-size: 0.8rem;
            font-weight: 800; color: var(--blue-electric); transition: 0.3s; text-transform: uppercase;
        }
        .cat-pill.active { background: var(--orange-neon); color: #fff; border-color: #fff; box-shadow: 0 0 15px var(--orange-neon); }

        /* --- LOADING ANIMATION --- */
        #loader {
            display: none;
            text-align: center;
            padding: 50px 0;
        }
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(0, 212, 255, 0.1);
            border-left-color: var(--orange-neon);
            border-radius: 50%;
            display: inline-block;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* --- PRODUCT FEED --- */
        .feed { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 15px; 
            transition: opacity 0.5s ease;
        }
        .card { 
            background: rgba(255,255,255,0.05); border-radius: 20px; border: 1px solid rgba(0, 212, 255, 0.2);
            overflow: hidden; animation: zoomIn 0.5s ease; backdrop-filter: blur(5px);
        }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        .img-wrap { width: 100%; aspect-ratio: 1/1; position: relative; overflow: hidden; }
        .img-wrap img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .card:hover .img-wrap img { transform: scale(1.1); }
        
        .promo-badge {
            position: absolute; top: 8px; right: 8px; background: var(--red-promo);
            color: #fff; font-size: 0.65rem; font-weight: 900; padding: 4px 8px; border-radius: 5px;
        }

        .card-info { padding: 12px; text-align: center; background: rgba(0,0,0,0.3); }
        .name { font-size: 0.75rem; color: #eee; text-transform: uppercase; height: 32px; overflow: hidden; margin-bottom: 8px; }
        
        .price-box { display: flex; flex-direction: column; gap: 2px; }
        .old-price { 
            color: #888; font-size: 0.8rem; text-decoration: line-through; 
            text-decoration-color: var(--red-promo); text-decoration-thickness: 2px;
        }
        .current-price { color: var(--orange-neon); font-size: 1.4rem; font-weight: 900; }

        .btn-group { display: flex; flex-direction: column; }
        .btn { padding: 15px; text-decoration: none; color: #fff; font-weight: 900; text-align: center; font-size: 0.8rem; }
        .btn-fb { background: var(--blue-electric); }
        .btn-tel { background: #111; border-top: 1px solid var(--orange-neon); }
    </style>
</head>
<body onload="initApp()">

    <div class="header-top">
        <div class="logo-container">
            <i class="fas fa-shopping-basket basket-icon"></i>
            <h1 class="logo-tsena">T-TSENA</h1>
        </div>
        <p style="font-size: 0.8rem; letter-spacing: 3px; margin-top: 10px; font-weight: bold;">MORA - HAINGANA - STYLE</p>
    </div>

    <div class="nav-sticky">
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="qInp" class="search-bar" placeholder="Inona no tadiavinao?">
        </div>
        <div class="cat-scroll" id="catBar">
            <div class="cat-pill active" onclick="filtre('all', this)">REHETRA</div>
            <div class="cat-pill" onclick="filtre('mode', this)">MODE</div>
            <div class="cat-pill" onclick="filtre('deco', this)">DECO</div>
            <div class="cat-pill" onclick="filtre('fitafy', this)">FITAFY</div>
            <div class="cat-pill" onclick="filtre('kiraro', this)">KIRARO</div>
            <div class="cat-pill" onclick="filtre('elektronika', this)">APPAREILS</div>
            <div class="cat-pill" onclick="filtre('kilalao', this)">KILALAO</div>
            <div class="cat-pill" onclick="filtre('sakafo', this)">SAKAFO</div>
        </div>
    </div>

    <div id="loader"><div class="spinner"></div></div>

    <div id="mainFeed" class="feed"></div>

<script>
    function initApp() {
        const feed = document.getElementById('mainFeed');
        const loader = document.getElementById('loader');

        // Asehoy aloha ilay boribory mihodina (Animation)
        feed.style.opacity = "0";
        loader.style.display = "block";

        // Miandry kely (0.8 segondra) vao aseho ny entana
        setTimeout(() => {
            if (typeof ddb !== 'undefined') {
                loader.style.display = "none";
                show(ddb);
                feed.style.opacity = "1";
            } else {
                loader.innerHTML = "<p style='color:red'>Tsy hita ny rakitra data.js</p>";
            }
        }, 800);
    }

    function show(tab) {
        const feed = document.getElementById('mainFeed');
        feed.innerHTML = tab.map(i => `
            <div class="card">
                <div class="img-wrap">
                    ${i.v_taloha ? '<span class="promo-badge">PROMO</span>' : ''}
                    <img src="${i.sary}">
                </div>
                <div class="card-info">
                    <div class="name">${i.anarana}</div>
                    <div class="price-box">
                        <span class="old-price">${i.v_taloha || ''}</span>
                        <span class="current-price">${i.vidy}</span>
                    </div>
                </div>
                <div class="btn-group">
                    <a href="${i.fb}" class="btn btn-fb">FACEBOOK</a>
                    <a href="tel:${i.tel}" class="btn btn-tel">ANTSOY</a>
                </div>
            </div>
        `).join('');
    }

    function filtre(c, el) {
        document.querySelectorAll('.cat-pill').forEach(p => p.classList.remove('active'));
        el.classList.add('active');
        show(c === 'all' ? ddb : ddb.filter(p => p.karazana.toLowerCase() === c));
    }

    document.getElementById('qInp').addEventListener('input', (e) => {
        const v = e.target.value.toLowerCase();
        show(ddb.filter(p => p.anarana.toLowerCase().includes(v)));
    });
</script>
</body>
</html>
